<!DOCTYPE html>
<!--
Atia & Tiger Technology 2019.
-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"/>
<head>
    <th:block th:replace="fragments/head-block"></th:block>
</head>
<body>
    <div class="container-fluid">
        <th:block th:replace="fragments/navbar-block"></th:block>
        <th:block th:replace="fragments/error-block"></th:block>

        <main class="mt-3">
            <hr class="hr-2 w-50"/>
            <div class = "container-fluid my-heading-container rounded mx-auto w-50">
                <h1>Create Auction</h1>
            </div>
            <hr class="hr-2 w-50"/>
            <form class="mx-auto w-50" th:action="@{/seller/auctions/create}" th:object="${createAuctionBindingModel}" method="post">
                <div class="control-group">

                    <label class="control-label h3 mb-2" for="auctionTitle">Auction Title</label>
                    <div class="controls">
                        <input type="text" th:field="*{title}" name="auctionTitle" placeholder="Auction Title..." class="form-control">
                            <p class="text-danger" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"/>
                    </div>
                </div>

                <br/>
                <div class="control-group">
                    <label class="control-label h3 mb-2" for="auctionDescription">Auction Description</label>
                    <div class="controls">
                        <textarea th:field="*{description}" name="auctionDescription" placeholder="Auction Description..." 
                                  class="form-control" style="resize: true;" cols="50" rows="15"></textarea>
                        <p class="text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"/>
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="w-50 p-3">
                        <label class="control-label h3 mb-2" for="auctionStartDate">Auction Start Date</label>
                        <div class="controls">
                            <input type="datetime-local" th:field="*{dateStarted}" name="auctionStartDate" placeholder="yyyy-MM-ddThh:mm" class="form-control">
                                <p class="text-danger" th:if="${#fields.hasErrors('dateStarted')}" th:errors="*{dateStarted}"/>
                        </div>
                    </div>
                    <div class="w-50 p-3">
                        <label class="control-label h3 mb-2" for="auctionExpiredDate">Auction Expired Date</label>
                        <div class="controls">
                            <input type="datetime-local" th:field="*{dateExpired}" name="auctionExpiredDate" placeholder="yyyy-MM-ddThh:mm" class="form-control">
                                <p class="text-danger"th:if="${#fields.hasErrors('dateExpired')}" th:errors="*{dateExpired}"/>
                        </div>
                    </div>
                </div>
                <br/>
                <div class="control-group">
                    <label class="control-label h3 mb-2" for="ititialPrice">Asking Price BGN</label>
                    <div class="controls">
                        <input type="number" step="0.01" th:field="*{initialPrice}" name="ititialPrice" placeholder="Initial Price (optional)" class="form-control">
                            <p class="text-danger" th:if="${#fields.hasErrors('initialPrice')}" th:errors="*{initialPrice}"/>
                    </div>
                </div>
                <br/>
                <div class="control-group">
                    <label class="control-label h3 mb-2" for="auctionStrategy">Auction Strategy</label>
                    <div class="controls">
                        <select class="form-control" th:field = "*{auctionStrategy}">
                            <option  th:each="auctionStrategy : ${T(Atia.Shop.domain.entities.enums.AuctionStrategy).values()}" th:value="${auctionStrategy}" th:text="${auctionStrategy.strategy}+' -> '+ ${auctionStrategy.description}"></option>
                        </select>
                        <p class="text-danger" th:if="${#fields.hasErrors('auctionStrategy')}" th:errors="*{auctionStrategy}"/>
                    </div>
                </div>
                <br/>
                <div class="control-group">
                    <div class="controls">
                        <button class="btn btn-lg btn-primary btn-block">Create Auction</button>
                    </div>
                </div>
            </form>
            <hr class="hr-2"/>
        </main>

        <div class="text-center mt-3">
            <h4 class="text-info text-center"><a th:href="@{/seller/auctions/all}">Back to All Auctions</a></h4>
            <h4 class="text-info text-center"><a th:href="@{/home}">Go to Home Page</a></h4>
        </div> 
        <hr class="hr-2"/>
        <th:block th:replace="fragments/scripts-block"></th:block>
        <th:block th:replace="fragments/footer-block"></th:block>
    </div>
</body>
</html>

